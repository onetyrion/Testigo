<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Home.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Home.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react"; 
import { StyleSheet,ActivityIndicator, Text, View, Image } from "react-native"; 
import { Constants, Location, Permissions,MapView,Marker  } from "expo"; 
import ActionButton from 'react-native-action-button';
import Icon from 'react-native-vector-icons/Ionicons';

export default 
/**
 * @class Crea componente Home, Contiene vista del mapa, botón a camara, barra lateral.
 */
class Home extends React.Component { 
    /**
     * @description define en propiedad state latitud, longitud y sus respectivas Delta(Posicionamiento de la camara) como tambien isready.
     * @param {*} props propiedad nativa de React Native. contiene parametros heredados.
     * @param {*} state propiedad nativa de React Native 
     * @param {number} lat Inicializado en null, sirve como parametro para el componente mapa.
     * @param {number} long Inicializado en null, sirve como parametro para el componente mapa.
     * @param {number} latitudeDelta Inicializado en 0.009, sirve como parametro para el componente mapa.
     * @param {number} longitudeDelta Inicializado en 0.009, sirve como parametro para el componente mapa.
     * @param {boolean} isready se usa para poner barra de carga en mapa, en caso de internet lento.
     * 
     */
    constructor(props) {
        super(props);
        this.state = {
            lat: null,
            long: null,
            latitudeDelta: 0.009,
            longitudeDelta: 0.009,
            isready:false,
        };
    }
    /**
     * @description Metodo nativo de React Native, se usa para obtener la latitud y longitud cuando el componente mapa ya ha cargado.
     */
    componentWillMount(){
        try { 
            navigator.geolocation.getCurrentPosition(
                (position)=>{
                    const lat = position.coords.latitude;
                    const long =position.coords.longitude;
                    this.setState({lat,long});
                }
            );
        } catch (error) {
            console.log(error)
        }
    }
    /**
     * @description Metodo nativo de React Native, se usa para definir false la variable isready en la propiedad estado.
     */
    componentDidMount(){
        this.setState({isready:true})
    }
    Logout(){
        dismiss();
    }
    /**
     * @description renderiza el componente metodo, alberga el mapa principal y botón flotante de camera.
     */
    render() {   
    const {navigate} = this.props.navigation;
    const {dismiss} = this.props.navigation; 
        return (
            this.state.lat &amp;&amp; this.state.isready  ?
            &lt;View style={styles.container}>
                &lt;MapView
                showsUserLocation={true} followUserLocation={true}
                    style={styles.map}
                    initialRegion={{
                        latitude: this.state.lat,
                        longitude: this.state.long,
                        latitudeDelta:this.state.latitudeDelta,
                        longitudeDelta:this.state.longitudeDelta
                    }}
                />
                &lt;ActionButton buttonColor="#dc3545" onPress={()=>{navigate('Camera')}}
                renderIcon={()=>{return &lt;Icon name="md-camera" style={styles.actionButtonIcon}/>}}>
                &lt;/ActionButton>
            &lt;/View>
             
            : &lt;View style={styles.container}>&lt;ActivityIndicator size="large" color="#dc3545" />&lt;/View>
            
        ); 
    } 
}
/** @property {StyleSheet} styles Contiene los estilos del contenedor mayor, el mapa y el botón */
const styles = StyleSheet.create({
    container: {
      flex: 1,
      backgroundColor: '#fff',
      alignItems: 'center',
      justifyContent: 'center',
    },
    map:{
        ...StyleSheet.absoluteFillObject,
    },actionButtonIcon: {
        fontSize: 20,
        height: 22,
        color: 'white',
      },
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#componentDidMount">componentDidMount</a></li><li><a href="global.html#componentWillMount">componentWillMount</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#styles">styles</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Thu Jun 06 2019 16:32:06 GMT-0400 (GMT-04:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
